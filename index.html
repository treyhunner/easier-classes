<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Easier Classes: Python Classes Without All The Cruft</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/truthful.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/github.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

      <section>

        <section data-background="#ffffff" data-background-transition="zoom" data-transition="zoom" data-transition-speed="fast">
          <h1>Easier Classes</h1>
          <h2>Python Classes Without All The Cruft</h2>
          <p>
          <small><a href="http://treyhunner.com" rel="author">Trey Hunner</a> / <a href="https://twitter.com/treyhunner">@treyhunner</a></small>
          </p>
          <aside class="notes" data-markdown>
            TODO
          </aside>
        </section>

        <section>
          <div class="aboutme-card">
            <a href="http://truthful.technology"><img src="truthful-technology-logo.svg" class="no-style aboutme-logos"></a>
            <span>On-site training for <nobr>Python &amp; Django</nobr> teams</span>
          </div>
          <div class="aboutme-card">
            <a href="http://pythonmorsels.com"><img src="morsels-logo.svg" class="no-style aboutme-logos"></a>
            <span>Python Morsels</span>
          </div>
          <div class="aboutme-card">
            <a href="http://pythonchat.com"><img src="pythonchat-logo.png" class="no-style aboutme-logos"></a>
            <span>Host of Python Chat</span>
          </div>
          <div class="aboutme-card">
            <a href="http://pythonsd.org"><img src="pythonsd-logo.svg" class="no-style aboutme-logos"></a>
            <span>San Diego Python meetup co-organizer</span>
          </div>
          <div class="aboutme-card">
            <a href="https://www.python.org/psf-landing/"><img src="psf-logo.png" class="no-style"></a>
            <span>Python Software Foundation director</span>
          </div>
          <aside class="notes" data-markdown>
            - My name is Trey.  I help Python &amp; Django teams on-board new teammates and turn their front-end developers into full-stack Django developers.
            - And I run a Python exercise subscription service where where I send out 1 Python exercise every week.  It's called Python Morsels.
            - I also host free live webcasts on Python-related topics a couple times each month.  I call that Python Chat.
            - I'm a co-organizers of my local Python meetup in San Diego
            - And I'm a former director at The Python Software Foundation
            - TODO...
          </aside>
        </section>

      </section>

      <section>
        <h3>The Problem: Making Pythonic Classes</h3>
        <ul>
          <li>We always need a __init__</li>
          <li>We should always have a __repr__</li>
          <li>It's often useful to have a __eq__ (get __ne__ for free in Python 3)</li>
          <li>It frequently makes sense have implement __lt__, __ge__, __gt__, __le__</li>
          <li>functools.total_ordering in Python 3</li>
          <li>Hashability (for use in sets and dictionaries)</li>
          <li>Iterability (when unpacking makes sense)</li>
        </ul>
        <aside class="notes" data-markdown>
          - TODO outline
          - 6 minutes
        </aside>
      </section>

      <section>
        <h3>Solution 1: collections.namedtuple</h3>
        <ul>
          <li>Built-in to the standard library since Python 2.6</li>
          <li>Convenient for simple classes without functions</li>
          <li>Can also be inherited from to add custom functionality</li>
          <li>The _fields attribute is useful for extending functionality</li>
          <li>There are quirks
            <ul>
              <li>errors in usage sometimes give really bizarre tracebacks</li>
              <li>inheritance from tuple results in some oddities (e.g. multiplication and addition)</li>
              <li>immutable (what if you want to change stuff?!)</li>
              <li>no type hinting</li>
              <li>Type of namedtuple is ignored</li>
            </ul>
          </li>
        </ul>
        <aside class="notes" data-markdown>
          - TODO outline
          - 4 minutes
        </aside>
      </section>

      <section>
        <h3>Solution 2: typing.NamedTuple</h3>
        <ul>
          <li>Built-in to the standard library since Python 3.5</li>
          <li>Like collections.namedtuple but a much nicer syntax</li>
          <li>Type hinting built straight in!</li>
          <li>Allows default values</li>
          <li>Still has most of the namedtuple quirks</li>
        </ul>
        <aside class="notes" data-markdown>
          - TODO outline
          - 2 minutes
        </aside>
      </section>

      <section>
        <h3>Solution 3: attrs library</h3>
        <ul>
          <li>Pros
            <ul>
              <li>Works for both mutable and immutable things</li>
              <li>More flexible than namedtuple or NamedTuple</li>
              <li>Easy conversion to other types</li>
              <li>Allows for validators, typing hinting syntax, etc</li>
            </ul>
          </li>
          <li>Cons
            <ul>
              <li>Not in the standard library</li>
              <li>Usage is a little odd (I find @attr.s awkward to explain)</li>
            </ul>
          </li>
        </ul>
        <aside class="notes" data-markdown>
          - TODO outline
          - 3 minutes
        </aside>
      </section>

      <section>
        <h3>Solution 4: dataclasses</h3>
        <ul>
          <li>Available as a third-party library</li>
          <li>Borrows many attrs features but keeps API very simple</li>
          <li>Will be bult-in to the standard library in Python 3.7</li>
          <li>Some things dataclasses doesn't support that attrs does</li>
        </ul>
        <aside class="notes" data-markdown>
          - TODO outline
          - 4 minutes
        </aside>
      </section>

      <section>
        <h3>Data Classes Recipes</h3>
        <ul>
          <li>Immutability</li>
          <li>Orderability</li>
          <li>Iterability</li>
          <li>Hashability</li>
          <li>Inheritance</li>
          <li>Default values</li>
          <li>Extra attributes</li>
        </ul>
        <aside class="notes" data-markdown>
          - TODO outline
          - 4 minutes
        </aside>
      </section>

      <section>
        <h3>Takeaways</h3>
        <ul>
          <li>You don't always need custom classes for your data, but it can be very handy</li>
          <li>Your commonly used classes should feel Pythonic</li>
          <li>You don't want lots of boilerplate in your classes</li>
          <li>Use dataclasses or attrs when you need custom data-heavy classes</li>
        </ul>
        <aside class="notes" data-markdown>
          - TODO outline
          - 2 minutes
        </aside>
      </section>

      <section style="text-align: left;" data-background="#663399" data-background-transition="slide" data-transition="slide">
        <h2>Need help getting your team <nobr>up to speed on Python?</nobr></h2>
        <h3>
          <strong>Trey Hunner</strong><br>
          <small>Python &amp; Django Team Trainer</small>
        </h3>
        <p>
          <small>
            Contact me: <a href="mailto:&#116;&#114;&#101;&#121;&#064;&#116;&#114;&#117;&#116;&#104;&#102;&#117;&#108;&#046;&#116;&#101;&#099;&#104;&#110;&#111;&#108;&#111;&#103;&#121;">&#116;&#114;&#101;&#121;&#064;&#116;&#114;&#117;&#116;&#104;&#102;&#117;&#108;&#046;&#116;&#101;&#099;&#104;&#110;&#111;&#108;&#111;&#103;&#121;</a>
          </small>
        </p>
        <p>
        <a href="http://truthful.technology"><img src="logo.svg" class="no-style logo"></a>
        <a href="http://pythonmorsels.com"><img src="python-morsels-logo.svg" class="no-style logo"></a>
        </p>
        <aside class="notes" data-markdown>
          - My name is Trey Hunner
          - I would love to teach Python and Django at your company
          - Feel free to shoot me an email
          - Thank you!
        </aside>
      </section>


      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="js/truthful.js"></script>


    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
